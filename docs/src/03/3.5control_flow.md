### æ§åˆ¶æµ

æ ¹æ®æ¡ä»¶æ˜¯å¦ä¸ºçœŸæ¥æ§åˆ¶æ˜¯å¦æ‰§è¡ŒæŸæ®µä»£ç 

#### if è¡¨è¾¾å¼

`if` è¿è¡Œä»£ç æ ¹æ®ä¸åŒçš„æ¡ä»¶æ‰§è¡Œä¸åŒçš„åˆ†æ”¯é€»è¾‘ã€‚`å½“æä¾›çš„è¡¨è¾¾å¼æ»¡è¶³å¯¹åº”çš„æ¡ä»¶ï¼Œåˆ™ä»£ç è¿è¡Œï¼Œå¦åˆ™å°†è·³è¿‡`ã€‚

```rust
    let num = 3;
    if num < 5 {
        println!(" num :  {} å°äº 5", num);
    } else {
        println!(" num :  {} å¤§äº 5", num);
    }
```

åœ¨ä¸Šé¢çš„ä»£ç ç¤ºä¾‹ä¸­ï¼Œæ¡ä»¶è¡¨è¾¾å¼æ£€æŸ¥å˜é‡ `num` æ˜¯å¦å°äº 5ï¼Œå¦‚æœå°äº 5 åˆ™æ‰§è¡Œ `println!(" num :  {} å°äº 5", num)` å¦åˆ™æ‰§è¡Œ `println!(" num :  {} å¤§äº 5", num)`ã€‚

æœ‰ä¸€ç‚¹éœ€è¦æ³¨æ„ï¼Œåœ¨`æ¡ä»¶åˆ¤æ–­è¡¨è¾¾å¼`ä¸­,æ‰€æœ‰çš„æ¡ä»¶å¿…é¡»æ˜¯ `bool`,å¦‚æœæ¡ä»¶ä¸æ˜¯ `bool` ç±»å‹ï¼Œé‚£ä¹ˆ Rust å°†ä¼šæŠ›å‡ºé”™è¯¯ã€‚

```
$ cargo run
   Compiling branches v0.1.0 (file:///projects/branches)
error[E0308]: mismatched types
 --> src/main.rs:4:8
  |
4 |     if number {
  |        ^^^^^^ expected `bool`, found integer

For more information about this error, try `rustc --explain E0308`.
error: could not compile `branches` (bin "branches") due to 1 previous error

```

åœ¨ä¸Šé¢çš„é”™è¯¯ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥æ˜æ˜¾çš„çœ‹åˆ°ï¼ŒRust æœŸæœ›ä¸€ä¸ª`bool`ç±»å‹ä½œä¸ºæ¡ä»¶è¡¨è¾¾å¼çš„ä¾æ®ï¼Œä½†æ˜¯å´å¾—åˆ°äº†ä¸€ä¸ªæ•´æ•°ï¼Œè¿™ä¸ªæ˜¯é”™è¯¯çš„ã€‚

```c++
//åœ¨C/C++ æˆ–ä¸€äº›å…¶ä»–è¯­è¨€ä¸­ï¼Œç»å¸¸èƒ½çœ‹åˆ°ä¸‹é¢çš„ä»£ç ï¼Œç†Ÿæ‚‰c++çš„å°ä¼™ä¼´ä»¬ä¸€å®šæ¯”è¾ƒç†Ÿæ‚‰è¿™ç§æ“ä½œï¼Œè¿™é‡Œå°±ä¸å†è¿‡å¤šèµ˜è¿°
#include <iostream>
int main() {
    int isActive=1;
    if (isActive) {
        std::cout << "æ¡ä»¶æ»¡è¶³ï¼Œæ‰§è¡Œç›¸å…³æ“ä½œ..." << std::endl;
    }
    return 0;
}
```

##### else if å¤šæ¡ä»¶å¤„ç†

å¦‚æœå‡ºç°å¤šç§æ¡ä»¶ï¼Œå¯ä»¥ä½¿ç”¨ `else if` è¿™ç§è¯­ä¹‰ç»“æ„å®ç°é€»è¾‘åˆ†æ”¯æ§åˆ¶

```rust
fn main() {
    let number = 6;

    if number % 4 == 0 {
        println!("number is divisible by 4");
    } else if number % 3 == 0 {
        println!("number is divisible by 3");
    } else if number % 2 == 0 {
        println!("number is divisible by 2");
    } else {
        println!("number is not divisible by 4, 3, or 2");
    }
}

```

åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œç¨‹åºä¼šä»ä¸Šå¼€å§‹æ‰§è¡Œï¼Œé€ä¸ªåˆ†æ”¯è¿›è¡Œåˆ¤æ–­ï¼Œä¸€æ—¦å‘½ä¸­é€»è¾‘ï¼Œåˆ™æ‰§è¡Œå¯¹åº”åˆ†æ”¯ä¸­çš„ä»£ç ï¼Œç»“æŸå½“å‰æ–¹æ³•ã€‚

##### ç»“åˆ `let` ä½¿ç”¨ if else è¯­å¥

è¿™ä¸ªæ“ä½œåœ¨æˆ‘ç†è§£æœ‰äº›åƒ `ä¸‰å…ƒè¡¨è¾¾å¼` è¯­æ³•æœ‰äº›åƒ `python` ,ä¸‹é¢æ˜¯ä¸€ä¸ªç¤ºä¾‹

```rust
    let condition = true;
    let number = if condition { 5 } else { 6 };

    println!("The value of number is: {number}");
```

è¿™é‡Œè®©æˆ‘ä»¬æ¥æ‹†è§£ä¸‹è¿™æ®µä»£ç :

ç¬¬ä¸€è¡Œï¼šå®šä¹‰äº†ä¸€ä¸ª bool ç±»å‹çš„å˜é‡ï¼Œåç§°ä¸º `condition`
ç¬¬äºŒè¡Œï¼šå®šä¹‰äº†ä¸€ä¸ªç»“æœï¼Œnumber æ¥æ”¶ è¡¨è¾¾å¼ `if condition { 5 } else { 6 }` çš„ç»“æœ
ç¬¬ä¸‰è¡Œï¼šæ‰“å°è¾“å‡ºç»“æœ

åœ¨ç¬¬äºŒè¡Œçš„ä»£ç å¯ä»¥è½¬æ¢æˆä¸‹é¢çš„æ ·å­ï¼Œå°±å˜æˆäº†ä¸Šé¢çš„ `if else`ç»“æ„

```rust
if(condition){
  number = 5;
} else {
  number = 6;
}
```

```
ä¸ºä»€ä¹ˆä¸éœ€è¦å†™ number = 5 ?
```

å› ä¸ºåœ¨ä»£ç å—ä¸­ï¼Œåˆ†æ”¯ä¸­çš„æ•°å­—æœ¬èº«å°±è¢«å½“æˆäº†ä¸€ä¸ªè¡¨è¾¾å¼ï¼Œè®©æˆ‘ä»¬å›æƒ³ [3.3 function](3.3function.md) ä¸­`è¿”å›å€¼`çš„æè¿°ï¼Œå…¶ä¸­æåˆ°äº†,æœ€åä¸€è¡Œæ˜¯ä¸è¦å†™ `return` å’Œ `;` çš„ã€‚æ‰€ä»¥ç»“åˆ`if condition { 5 } else { 6 }`è¡¨è¾¾å¼çš„å†…å®¹ã€‚å°±å¯ä»¥ç†è§£ä¸ºï¼Œå½“æ¡ä»¶æˆç«‹çš„æ—¶å€™ï¼Œè¿”å› 5 ä¸æˆç«‹è¿”å› 6ã€‚

**æ³¨æ„ï¼šåœ¨è¿™ç§åŒ…å« let çš„è¡¨è¾¾å¼ä¸­ï¼Œè¿”å›çš„æ•°æ®ç±»å‹å¿…é¡»ä¸€è‡´ã€‚**

#### å¾ªç¯

##### loop

`loop` å…³é”®å­—å¯ä»¥é‡å¤æ‰§è¡Œä¸€æ®µä»£ç ï¼Œç›´åˆ° Rust æ˜ç¡®çš„çŸ¥é“éœ€è¦åœæ­¢ï¼Œæ‰ä¼šåœæ­¢

ä¸‹é¢çš„ä¾‹å­å°±æ˜¯ä¸€ä¸ªå¾ªç¯æ‰§è¡Œçš„é€»è¾‘

```rust
fn control_loop() {
    let mut count = 0;

    loop {
        if count > 3 {
            break;
        }
        count = count + 1;
        println!("control_loop count >>> {count}");
    }
}
```

è¿™ä¸ªä¾‹å­çš„è¾“å‡º

```
control_loop count >>> 1
control_loop count >>> 2
control_loop count >>> 3
control_loop count >>> 4
```

`è®©æˆ‘ä»¬æ¥åˆ†æä¸‹è¿™æ®µä»£ç å¹²äº†äº›ä»€ä¹ˆäº‹æƒ…...`

ä»£ç ä¸­å®šä¹‰äº†ä¸€ä¸ªå¯ä»¥æ›´æ”¹çš„å˜é‡ `count` è®¾ç½®åˆå§‹å€¼ä¸º `0`ã€‚ç´§æ¥ç€è¿›å…¥ `loop`å¾ªç¯ä½“ä¸­ï¼Œåœ¨å¾ªç¯ä½“ä¸­åˆ¤æ–­`count`çš„å¤§å°ï¼Œå½“`count`å¤§äº `3`çš„æ—¶å€™ä½¿ç”¨ `break`å…³é”®å­—ç»ˆæ­¢å¾ªç¯ï¼Œé¿å…ç¨‹åºè¿›å…¥`æ­»å¾ªç¯`(**è®°ä½åœ¨ä»»ä½•æ—¶å€™éƒ½è¦é¿å…å†™æ­»å¾ªç¯çš„ä»£ç ï¼Œå³ä½¿æ˜¯ä¸€ä¸ªéœ€è¦å®šæ—¶è½®è¯¢çš„ä»»åŠ¡ä¹Ÿå°½é‡é¿å…ï¼Œè¿™ä¸ªå¾ˆå±é™©ï¼**)ï¼Œåˆ¤æ–­é€»è¾‘ç»“æŸåï¼Œå¼€å§‹å¯¹`count`ç´¯åŠ ï¼Œæ„æ€æ˜¯æ¯å¾ªç¯ä¸€æ¬¡ï¼Œ`count+1`,æ¯æ¬¡å¾ªç¯æ‰“å°è¾“å‡ºçš„ä¿¡æ¯ã€‚

åœ¨æ–¹æ³• [control_loop](3.5control_flow.md#loop) ä¸­ï¼Œä¸€å…±æ‰§è¡Œäº†4æ¬¡ï¼Œæ‰€ä»¥æ‰æœ‰äº†ä¸Šé¢çš„è¾“å‡ºå†…å®¹ã€‚é€šè¿‡è¿™ä¸ªä¾‹å­ï¼Œæˆ‘ä»¬èƒ½å¤§æ¦‚ç†è§£ `loop`åšäº†ä»¶ä»€ä¹ˆäº‹æƒ…ã€‚

`é‚£æˆ‘ä»¬æ˜¯å¦å¯ä»¥åœ¨loopä¸­è¿”å›ä¸€ä¸ªç»“æœå‘¢ï¼Ÿç­”æ¡ˆæ˜¯å¯ä»¥çš„ï¼Œæ¥çœ‹ä¸‹é¢çš„ä»£ç `

```rust
fn control_loop_result() {
    let mut count = 0;
    let result = loop {
        count += 1;
        if count == 10{
            break count * 5;
        }
    };
    println!("control_loop_result >> result >> {result}")
}
```

åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ `break count * 5;` è¿™æ ·çš„å½¢å¼å°†ç»“æœç›´æ¥è¿”å›åˆ° `result` å˜é‡ä¸­ã€‚

##### åµŒå¥—å¾ªç¯å’Œæ ‡ç­¾

å¦‚æœå­˜åœ¨åµŒå¥—å¾ªç¯ï¼Œ`break` å’Œ `continue` åº”ç”¨äºæ­¤æ—¶æœ€å†…å±‚çš„å¾ªç¯ã€‚ä½ å¯ä»¥é€‰æ‹©åœ¨ä¸€ä¸ªå¾ªç¯ä¸ŠæŒ‡å®šä¸€ä¸ª å¾ªç¯æ ‡ç­¾ï¼ˆloop labelï¼‰ï¼Œç„¶åå°†æ ‡ç­¾ä¸ `break` æˆ– `continue` ä¸€èµ·ä½¿ç”¨ï¼Œä½¿è¿™äº›å…³é”®å­—åº”ç”¨äºå·²æ ‡è®°çš„å¾ªç¯è€Œä¸æ˜¯æœ€å†…å±‚çš„å¾ªç¯ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªåŒ…å«ä¸¤ä¸ªåµŒå¥—å¾ªç¯çš„ç¤ºä¾‹ï¼š

```rust
fn control_loop_tag() {
    let mut count = 0;
    'counting_up: loop {
        println!("count = {count}");
        let mut remaining = 10;

        loop {
            println!("remaining = {remaining}");
            if remaining == 9 {
                break;
            }
            if count == 2 {
                break 'counting_up;
            }
            remaining -= 1;
        }

        count += 1;
    }
    println!("End count = {count}");
}
```

å¤–å±‚å¾ªç¯æœ‰ä¸€ä¸ªæ ‡ç­¾ `counting_up`ï¼Œå®ƒå°†ä» 0 æ•°åˆ° 2ã€‚æ²¡æœ‰æ ‡ç­¾çš„å†…éƒ¨å¾ªç¯ä» 10 å‘ä¸‹æ•°åˆ° 9ã€‚ç¬¬ä¸€ä¸ªæ²¡æœ‰æŒ‡å®šæ ‡ç­¾çš„ break å°†åªé€€å‡ºå†…å±‚å¾ªç¯ã€‚`break 'counting_up;` è¯­å¥å°†é€€å‡ºå¤–å±‚å¾ªç¯ã€‚è¿™ä¸ªä»£ç æ‰“å°ï¼š

```
count = 0
remaining = 10
remaining = 9
count = 1
remaining = 10
remaining = 9
count = 2
remaining = 10
End count = 2
```

##### while

`while`å¾ªç¯å’Œ`loop`åŸºæœ¬ä¸Šä¸€æ ·ï¼Œå°±æ˜¯whileæœ‰ä¸ªæ˜¾å¼çš„æ¡ä»¶æ¥åˆ¤æ–­ç¨‹åºæ˜¯å¦éœ€è¦åœæ­¢æ‰§è¡Œã€‚

```rust
    let a = [10, 20, 30, 40, 50];
    let mut index = 0;

    while index < 5 {
        println!("the value is: {}", a[index]);

        index += 1;
    }
```

åœ¨é€šå¸¸çš„è¯­å¢ƒä¸­ï¼Œ`while`ã€`loop`éƒ½è¢«ç”¨æ¥å¤„ç†ä¸çŸ¥é“éœ€è¦è¿­ä»£å¤šä¹…çš„é€»è¾‘ã€‚

##### for

`for` æ˜¯å·²çŸ¥éœ€è¦å¾ªç¯çš„æ¬¡æ•°ï¼Œåœ¨ä¸€äº›éå†å·²çŸ¥é•¿åº¦çš„é˜Ÿåˆ—ã€æ•°ç»„ç­‰åœºæ™¯ï¼Œ`for`æ˜¯å¾ˆå¸¸ç”¨çš„ã€‚

```rust
    for number in (1..4).rev() {
        println!("{number}!");
    }
    println!("LIFTOFF!!!");
```


[ğŸ”™ä¸Šä¸€é¡µ](3.4annotation.md) | [ç¬¬å››ç« ğŸ”œ](../04/4.0_first.md)
