## 创建项目

### 手动创建项目

可以使用 Vscode 打开一个空目录，创建一个后缀名称是.rs 的文件，打开后在里面输入下面的内容：

```rust
fn main() {
    println!("Hello, world!");
}
```

### 使用 Cargo 创建项目

Cargo 是 Rust 的构建系统和包管理器。大多数 Rustacean 们使用 Cargo 来管理他们的 Rust 项目，因为它可以为你处理很多任务，比如构建代码、下载依赖库并编译这些库。（我们把代码所需要的库叫做 依赖（dependencies））。

最简单的 Rust 程序，比如我们刚刚编写的，没有任何依赖。如果使用 Cargo 来构建 “Hello, world!” 项目，将只会用到 Cargo 构建代码的那部分功能。在编写更复杂的 Rust 程序时，你将添加依赖项，如果使用 Cargo 启动项目，则添加依赖项将更加容易。

由于绝大多数 Rust 项目使用 Cargo，本书接下来的部分假设你也使用 Cargo。如果使用 “安装” 部分介绍的官方安装包的话，则自带了 Cargo。如果通过其他方式安装的话，可以在终端输入如下命令检查是否安装了 Cargo：

```shell
$ cargo --version
```

如果你看到了版本号，说明已安装！如果看到类似 command not found 的错误，你应该查看相应安装文档以确定如何单独安装 Cargo。

```
cargo 1.89.0 (c24e10642 2025-06-23)
```

使用下面的命令创建一个项目

```shell
cargo new hello_cargo
cd hello_cargo
```

控制台会输出下面的内容

```
Creating binary (application) `hello_cargo` package
note: see more `Cargo.toml` keys and their definitions at https://doc.rust-lang.org/cargo/reference/manifest.html
```

通过 Cargo 创建的项目，会默认带出一个 git 环境，如果不需要创建这个 git 环境可以使用下面的这个命令创建项目。Cargo 还有一个特性，创建项目的时候会检测父级目录中是否存在 git 环境，如果存在，则不会再创建新的 git 环境，这样会避免出现 git 嵌套的问题。

```shell
cargo new --vcs none hello_cargo
```

#### Cargo 的其他命令

检查项目，这个通常是做语法检查

```shell
cargo check
```

编译项目，一般可以直接进行编译，编译前会进行 check 动作，出现语法错误会中断编译动作

```shell
cargo build
```

运行项目

```shell
cargo run
```

使用 Cargo 会引入一个新的文件 `Cargo.toml`

这个文件使用 TOML (Tom's Obvious, Minimal Language) 格式，这是 Cargo 配置文件的格式。

第一行，[package]，是一个片段 section 标题，表明下面的语句用来配置一个包。随着我们在这个文件增加更多的信息，还将增加其他 section。

接下来的三行设置了 Cargo 编译程序所需的配置：项目的名称、项目的版本以及要使用的 Rust 版本。附录 E 会介绍 edition 的值。

最后一行，[dependencies]，是罗列项目依赖的 section 的开始。在 Rust 中，代码包被称为 crates。这个项目并不需要其他的 crate，不过在第二章的第一个项目会用到依赖，那时会用得上这个 section。

```toml
[package]
name = "hello_cargo"
version = "0.1.0"
edition = "2024"

[dependencies]
```

[返回上一级](./1.1_install.md) | [下一章节](../03/3.1var.md)
